<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presente para Lucas</title>
    <style>
        body {
            background-color: #001a33;
            color: white;
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            overflow-y: auto;
        }

        h1 {
            font-size: 4rem;
            margin: 20px 10px;
            line-height: 1.2;
            color: #FFFFFF;
            text-shadow: 0 0 30px #BB86FC, 0 0 60px #6200EA;
            animation: enhancedGlow 3s infinite alternate;
        }

        @keyframes enhancedGlow {
            0% {
                text-shadow: 0 0 40px #BB86FC, 0 0 80px #BB86FC;
            }
            100% {
                text-shadow: 0 0 40px #00509E, 0 0 80px #00509E;
            }
        }

        #gif {
            display: none;
            position: absolute;
            width: 300px;
            height: auto;
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
        }

        #foto {
            display: none;
            width: 500px;
            height: 500px;
            border-radius: 20px;
            margin: 20px auto;
        }

        button {
            background-color: #004080;
            color: white;
            border: none;
            padding: 20px 40px; /* Dobrado o tamanho do bot√£o */
            font-size: 1.5rem; /* Aumentado o tamanho da fonte */
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }

        button:hover {
            background-color: #00509E;
        }

        #pause-btn {
            padding: 10px 20px;
            font-size: 1rem;
        }

        #mensagens {
            margin-top: 40px;
            text-align: center;
            font-size: 1.2rem;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #FFFFFF;
            opacity: 0.7;
            border-radius: 50%;
        }

        @keyframes confettiExplode {
            0% {
                transform: translate(0, 0) scale(1);
            }
            100% {
                transform: translate(calc(var(--dx) * 600px), calc(var(--dy) * 600px)) scale(0.5);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
                margin: 10px;
            }

            #foto {
                width: 300px;
                height: 300px;
            }

            button {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <h1>Espero que voc√™<br>tenha curtido o seu presente!</h1>
    <img id="foto" src="foto_amigo.jpg" alt="Foto do amigo">
    <div id="mensagens"></div>
    <button id="start-btn">Clique Aqui</button>
    <button id="pause-btn" style="display: none;">Pause</button>
    <img id="gif" src="Luffy_Lucas.gif" alt="Celebration GIF">
    <audio id="musica" src="Stay_With_Me.mp3" preload="auto"></audio>
    <script>
        const startBtn = document.getElementById('start-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const gif = document.getElementById('gif');
        const musica = document.getElementById('musica');
        const foto = document.getElementById('foto');
        const mensagensDiv = document.getElementById('mensagens');
        const body = document.body;

        let frases = [
            { tempo: 10, texto: "Temos pouqu√≠ssimas fotos juntos hein..." },
            { tempo: 25, texto: "Foi dif√≠cil achar alguma foto, mas sem terceiros foi imposs√≠vel kkkkk" },
            { tempo: 40, texto: "Caralho, tu ainda tinha cabelo grande naquela √©poca??" },
            { tempo: 55, texto: "A ideia desse site ficou muito boa!" },
            { tempo: 70, texto: "Eu desembolei essa anima√ß√£o na m√£o, PQP!!" },
            { tempo: 85, texto: "O que eu estou fazendo acordado um hora dessa, ahhhhh!" },
            { tempo: 100, texto: "Enfim, √© isso, explos√µes de v√°rios Luffys s√≥ na vers√£o 2.0 :o" },
            { tempo: 120, texto: "Feliz Natal, Feliz Ano Novo, Boas Festas üéÑü•Ç" }
        ];

        let fraseIndex = 0;
        let fraseInterval = null;
        let isPaused = false;
        let gifDisplayed = false; // Controla se o gif j√° foi exibido ap√≥s 59 segundos
        let gifPosition = 'left'; // Controle da posi√ß√£o do gif (esquerda, direita, cima, baixo)

        startBtn.addEventListener('click', () => {
            musica.currentTime = 0;
            musica.play();
            foto.style.display = 'block';
            startBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';
            exibirMensagens();
            explodirConfetes();
            gifDisplayed = false; // Reseta o controle do gif

            setTimeout(() => {
                // Ap√≥s 58 segundos, o gif pode ser exibido
                if (musica.paused === false && musica.currentTime >= 58) {
                    gif.style.display = 'block';
                    gifPosition = 'left'; // Inicialmente no lado esquerdo
                    gif.style.left = '5%'; // Permite que o gif v√° mais para a esquerda
                    gif.style.top = '50%';
                    gif.style.transform = 'translateY(-50%)'; // Mant√©m o GIF centralizado verticalmente
                    gifDisplayed = true;
                    moverGif();
                }
            }, 58000); // Altera√ß√£o para 58 segundos
        });

        pauseBtn.addEventListener('click', () => {
            if (isPaused) {
                musica.play();
                // S√≥ exibe o gif se a m√∫sica j√° passou de 58 segundos
                if (musica.currentTime >= 58) {
                    gif.style.display = 'block';
                    moverGif(); // Resume o movimento do GIF
                }
                pauseBtn.textContent = "Pause";
            } else {
                musica.pause();
                clearInterval(fraseInterval);
                gif.style.display = 'none'; // Esconde o gif quando a m√∫sica √© pausada
                pauseBtn.textContent = "Play";
            }
            isPaused = !isPaused;
        });

        musica.addEventListener('timeupdate', () => {
            // Exibe as frases de acordo com o tempo da m√∫sica
            for (let i = fraseIndex; i < frases.length; i++) {
                if (musica.currentTime >= frases[i].tempo && !isPaused) {
                    exibirFrase(frases[i].texto);
                    fraseIndex++;
                }
            }

            // S√≥ exibe o gif depois que a m√∫sica alcan√ßar 58 segundos
            if (musica.currentTime >= 58 && !gifDisplayed && !musica.paused) {
                gif.style.display = 'block';
                gifPosition = 'left'; // Inicialmente no lado esquerdo
                gif.style.left = '5%'; // Permite que o gif v√° mais para a esquerda
                gif.style.top = '50%';
                gif.style.transform = 'translateY(-50%)'; // Mant√©m o GIF centralizado verticalmente
                gifDisplayed = true;
                moverGif();
            } else if (musica.paused) {
                gif.style.display = 'none'; // Esconde o gif quando a m√∫sica for pausada
            }
        });

        function exibirFrase(frase) {
            const novaMensagem = document.createElement('p');
            novaMensagem.textContent = frase;
            mensagensDiv.appendChild(novaMensagem);
            if (frase === "Enfim, √© isso, explos√µes de v√°rios Luffys s√≥ na vers√£o 2.0 :o") {
                novaMensagem.style.marginBottom = "40px"; // Espa√ßo adicional antes da √∫ltima frase
            }
        }

        function moverGif() {
            setTimeout(() => {
                if (musica.paused) return; // Respeita a pausa da m√∫sica
                // Move o GIF para o lado direito ap√≥s 600ms
                gif.style.left = '80%'; // Agora mais pr√≥ximo da foto
                gif.style.transform = 'translateY(-50%) scaleX(-1)'; // Espelha o GIF
                gifPosition = 'right';

                // Ap√≥s 600ms, sobe o GIF
                setTimeout(() => {
                    if (musica.paused) return;
                    gif.style.left = '50%'; // Centraliza horizontalmente
                    gif.style.top = '10%'; // Sobe o GIF
                    gif.style.transform = 'translateX(-50%)'; // Centraliza horizontalmente
                    gifPosition = 'top';

                    // Ap√≥s 600ms, desce o GIF
                    setTimeout(() => {
                        if (musica.paused) return;
                        gif.style.top = '80%'; // Desce o GIF
                        gifPosition = 'bottom';
                    }, 600); // Tempo de 600ms para o GIF ir de cima para baixo
                }, 600); // Tempo de 600ms para o GIF mover para a direita
            }, 600); // Tempo de 600ms para o GIF mover para a direita

            // Inicia o movimento aleat√≥rio ap√≥s o GIF atingir a 4¬™ posi√ß√£o (embaixo)
            setTimeout(() => {
                if (gifPosition === 'bottom') {
                    moverAleatoriamente();
                }
            }, 2400); // Ap√≥s o gif descer, ele come√ßa a se mover aleatoriamente
        }

        function moverAleatoriamente() {
            setInterval(() => {
                // Calcula posi√ß√µes aleat√≥rias dentro dos limites da tela
                const randomX = Math.random() * 80 + 10; // Evita que o GIF saia das bordas
                const randomY = Math.random() * 80 + 10;

                // Calcula o tempo de transi√ß√£o aleat√≥rio para dar um efeito de deslize suave
                const duration = Math.random() * 2 + 1; // Dura√ß√£o entre 1 e 3 segundos

                // Aplica a transi√ß√£o suave
                gif.style.transition = `all ${duration}s ease-in-out`;
                gif.style.left = `${randomX}%`;
                gif.style.top = `${randomY}%`;

                // Adiciona um efeito de espelhamento (scaleX(-1)) para randomizar o movimento
                gif.style.transform = Math.random() < 0.5 ? 'scaleX(-1)' : 'scaleX(1)';
            }, 2000); // Faz o GIF mover a cada 2 segundos
        }

        function explodirConfetes() {
            const numConfetes = 400;
            const duracao = 4000;

            for (let i = 0; i < numConfetes; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');

                const isLeft = Math.random() < 0.5;
                confetti.style.left = isLeft ? '0%' : '100%';
                confetti.style.top = '0%';

                confetti.style.setProperty('--dx', `${Math.random() * (isLeft ? 1 : -1)}`);
                confetti.style.setProperty('--dy', `${Math.random() * 2}`);
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;

                body.appendChild(confetti);

                setTimeout(() => {
                    confetti.style.animation = `confettiExplode ${duracao / 1000}s ease-out forwards`;
                }, 0);

                setTimeout(() => {
                    confetti.remove();
                }, duracao);
            }
        }
    </script>
</body>
</html>
